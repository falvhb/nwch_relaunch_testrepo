import React from 'react';

// List all enrichments
import EnrichmentText from 'components/enrichment-text';
import EnrichmentImage from 'components/enrichment-image';
import EnrichmentDownload from 'components/enrichment-download';

export default React.createClass({

  propTypes: {
    asset: React.PropTypes.object.isRequired
  },

  getEnrichmentComponent(kind) {
    var kinds = {
      'text_stoerer': EnrichmentText,
      'image_stoerer': EnrichmentImage,
      'download_stoerer': EnrichmentDownload,
      // This is meant for the main asset which is not an interferer in itself
      // and has its own `content_type`. Still, we want it to behave the same
      // way as any other st√∂rer.
      'asset_image': EnrichmentImage
    };

    if (typeof kinds[kind] === 'undefined') {
      return false;
    }

    return kinds[kind];
  },

  render() {
    var render, contentType = this.props.asset.asset.content_type;
    var Enrichment = this.getEnrichmentComponent(contentType);

    if (Enrichment) {
      render = <Enrichment {...this.props.asset} />
    }

    return (
      <div>
        {render}
      </div>
    );
  }

});
