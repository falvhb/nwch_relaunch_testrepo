import React from 'react';

import GetEnrichment from 'higher-order/data/get-enrichment';

import EnrichmentText from 'components/enrichment-text';
import EnrichmentImage from 'components/enrichment-image';
import EnrichmentDownload from 'components/enrichment-download';
import RawContent from 'components/raw-content';
import Aside from 'components/aside';

export default Component => React.createClass({

  propTypes: {
    assets: React.PropTypes.array.isRequired,
    lead: React.PropTypes.string.isRequired,
    text: React.PropTypes.string.isRequired,
    stoerer: React.PropTypes.array.isRequired,
    keywords: React.PropTypes.array.isRequired
  },

  mappedData() {
    var props = this.props, mainAsset;

    if (this.props.assets.length) {
      mainAsset = <GetEnrichment enrichment={this.props.assets[0]} />;
    }

    return {
      asset: mainAsset,
      teaser: props.lead,
      text: this.props.text,
      enrichments: this.props.stoerer,
      tags: props.keywords
    };
  },

  render() {
    return (
      <Component {...this.mappedData()} />
    );
  }

});
