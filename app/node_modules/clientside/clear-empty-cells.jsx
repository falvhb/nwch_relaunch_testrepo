import _ from 'lodash';

export default function() {

  let init = function(params) {

    let defaults = {
      selector: '.grid__item',
      slot: '.slotdbg',
      item: '.teaser'
    };

    let options = _.extend({}, defaults, params);

    let allGridItems = document.querySelectorAll(options.selector);

    _.forEach(allGridItems, function(item) {
      let slot = item.querySelector(options.slot);
      if (slot) {
        let content = item.querySelector(options.item);
        if (!content) {
          let parent = item.parentNode;
          parent.removeChild(item);
        }
      }
    });

  };

  return Object.freeze({
    init: init
  });
}
