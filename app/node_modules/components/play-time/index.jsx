import React from 'react';
import bem from 'react-bem-helper';

const classes = new bem({
  name: 'play-time',
  prefix: ''
});

export default React.createClass({

  displayName: 'PlayTime',

  propTypes: {
    duration: React.PropTypes.number.isRequired
  },

  getFormattedTime(duration) {
    var hours, minutes, seconds;
    var time;

    hours = Math.floor(duration / 3600);
    hours = ('0' + hours).slice(-2);
    minutes = Math.floor((duration - hours * 3600) / 60);
    minutes = ('0' + minutes).slice(-2);
    seconds = Math.floor(duration - hours * 3600 - minutes * 60);
    seconds = ('0' + seconds).slice(-2);

    time= (duration>0 ? `${minutes}:${seconds}` : '');

    return time;
  },

  render() {
    var playtime = this.getFormattedTime(this.props.duration);

    return (
      <h5 {...classes()}>{playtime}</h5>
    );
  }
});
