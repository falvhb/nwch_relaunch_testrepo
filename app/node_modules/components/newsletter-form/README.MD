# Newsletter form


## Props
The component is wrapped in a Higher Order Component that handles some of the data processing, so the props described here might be devided amongst the two files.

### `regionPath`
By default the component will show a list of all newsletters, but by passing a `regionPath` prop equivalent to `aargau/aarau` you can limit it to one newsletter. In that case, all the checkboxes will be hidden.

### Optional Props (for changing the form POST url)
The Mailchimp form sends the content to a url that is constructed like this:

- https://`host`/subscribe/post?u=`u`&amp;id=`id`

For all of these things the defaults are probably right, but if for some reason they need to be overridden, that's possible.

## Source of truth
The source for the newsletters is the `.config.json` file in the root of this component. It's an object of keys corresponding to the urls on the website (region/town), for example:

```
{
  aargau: {
    aarau: {â€¦}
  }
}
```

each town's object has a number of attributes, but they can all be linked to the items in a mailchimp form. For example, when a MailChimp form is created, the generated checkbox for one mailing list would be:

```
<input type="checkbox" value="2" name="group[5593][2]" id="mce-group[5593]-5593-1">
<label for="mce-group[5593]-5593-1">Ausgabe Baden</label>
```

In order to reproduce this inside `.config.json`, you need an object with the following attributes:

```
{
  label: 'Ausgabe Baben'
  group: 5593
  id: 2
}
```

optionally, a `hidden` attribute can be set to true to hide the field from the frontend.
