@import 'globals';
@import 'utilities/variables';

// Note: these three variables are relying on global ones, so they cannot be 
// defined in `utilities/variables`.

/// The second breakpoint where the störer offset is larger
/// @type Length
/// @group enrichment
$aside-breakpoint--large: ($container-width + $aside-offset--large);

/// The spacing (right, bottom) for floated störers (large screens)
/// @type Length
/// @group enrichment
$aside-floated-spacing: ($container-spacing * 1.5);

/// The basic spacing for störers on large screens
/// @type Length
/// @group enrichment
$aside-large-spacing: ($container-spacing * 2);

/**
 * Aside wrapper for floating elements
 * 1. Top and bottom margin is meant for vertical-rhythm, while left and right
 *    margin is used to make the wrapper stick to the edges of the screen
 */
.aside {
  margin: ($container-spacing * 2) (-$container-spacing); /* 1 */

  /**
   * Aside wrapper for floating elements when there actually is enough room
   * to make it floated
   * 1. Top margin is a magic number, right and bottom is to leave some room
   *    between the aside and the core content
   */
  @include media('>small') {
    float: left;
    margin: 6px ($container-spacing * 1.5) ($container-spacing * 1.5) 0; /* 1 */
    width: $aside-width;
  }

  /**
   * Aside when there is enough room for small offset in the margin
   */
  @include media('>#{$aside-breakpoint--small}') {
    margin-left: -$aside-offset--small;
  }

  /**
   * Aside when there is enough room for large offset in the margin
   */
  @include media('>#{$aside-breakpoint--large}') {
    margin-left: -$aside-offset--large;
  }
}
