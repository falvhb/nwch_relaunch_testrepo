import React from 'react';
import bem from 'react-bem-helper';
import { capitalize } from 'lodash/string';

const classes = new bem({
  name: 'ugc-header',
  prefix: ''
});

export default React.createClass({

  displayName: 'UGCHeader',

  propTypes: {
    type: React.PropTypes.oneOf(['leserbeitrag', 'vereinsmeldung', 'sportverein', 'gemeindebeitrag']).isRequired,
    city: React.PropTypes.shape({
      name: React.PropTypes.string.isRequired,
      url: React.PropTypes.string.isRequired,
      shield_url: React.PropTypes.string
    }),
    author: React.PropTypes.string,
    author_url: React.PropTypes.string
  },

  renderTypeIcon() {

  },

  renderCity() {
    var { city } = this.props;
    return (
      <span>
        { 'aus ' }
        <a href={city.url}>
          { city.name }
        </a>
      </span>
    )
  },

  renderAuthor() {
    var { author, author_url } = this.props;
    return (
      <span>
        { 'von ' }
        <a href={author_url}>
          { author }
        </a>
      </span>
    )
  },

  render() {
    var { type } = this.props;
    var isAuthorFirst = type === 'leserbeitrag';

    if (!type) {
      return null;
    }

    return (
      <div>
        { this.renderTypeIcon(type) }
        { capitalize(type) + ' ' }
        { this.renderCity() }
        { this.renderAuthor() }
      </div>
    );
  }

});
