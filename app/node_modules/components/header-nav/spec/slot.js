/* eslint-disable no-unused-expressions */

import _ from 'lodash';
import slot from 'components/header-nav/slot';
import state from 'components/header-nav/.data-slot';

import { expect } from 'chai';

describe('HeaderNav', function() {

  describe('slot', function() {

    let fixture;

    beforeEach(function() {
      fixture = slot.data(state);
    });

    it('sets iso rendering', function() {
      expect(slot.iso).to.be.true;
    });

    it('returns data', function() {
      expect(fixture).to.be.an('object');
    });

    it('with a skin ID', function() {
      expect(_.has(fixture, 'skin')).to.be.true;
      expect(fixture.skin).to.be.a('string');
    });

    it('with a nav object', function() {
      expect(fixture.nav).to.be.an('object');
    });

    it('with a correct active state', function() {
      expect(fixture.nav.active).to.be.equal('/panorama');
    });

    it('with an array of nav items', function() {
      expect(fixture.nav.items).to.be.an('array');
    });

    it('and a href / label', function() {
      let firstNavItem = _.first(fixture.nav.items);
      expect(_.has(firstNavItem, 'href')).to.be.true;
      expect(_.has(firstNavItem, 'label')).to.be.true;
    });

  });

});
