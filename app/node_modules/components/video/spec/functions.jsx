import Video from 'components/video';
import React from 'react/addons';

import data from 'components/video/.data';
import { expect } from 'chai';

const TestUtils = React.addons.TestUtils;

describe('Video component functions', function() {

  let video;

  beforeEach(function() {
    video = TestUtils.renderIntoDocument(
      <Video {...data} />
    );

  });

  describe('configuration of Kaltura player', function() {

    it('should return an configuration object', () => {
      let config = video.getPlayerConfiguration(video.props);
      expect(config).to.be.an('object');
      config = video.getPlayerConfiguration();
      expect(config).to.be.an('object');
    });

    it('should fallback to the settings in props', function () {
      let config = video.getPlayerConfiguration();
      expect(config.entry_id).to.equal(video.props.kalturaID);
      expect(config.uiconf_id).to.equal(video.props.playerID);
      expect(config.wid).to.equal('_' + video.props.accountID);
    });

  });
});
