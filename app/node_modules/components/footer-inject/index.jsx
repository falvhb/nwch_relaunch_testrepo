import React from 'react';
import bem from 'react-bem-helper';
import Button from 'components/button';


const classes = new bem({
  name: 'footer-links',
  prefix: ''
});

export default React.createClass({

  displayName: 'FooterInject',

  getInitialState() {
    return {
      mode: 'collapsed'
    };
  },

  toggleFooter() {
    this.setState({
      mode: this.state.mode === 'collapsed'
        ? 'expanded'
        : 'collapsed'
    });
  },

  injectFooter() {
    return {__html: '<!--# include virtual="/__fetchurl__?url=http://www.azmedien.ch/footer/" -->'};
  },

  render() {

    var { mode } = this.state;
    var label = mode === 'collapsed'
      ? 'Verlagsangebote einblenden'
      : 'Verlagsangebote ausblenden';

    return (
      <div>
        <Button label={label} _event={this.toggleFooter} />
        <div {...classes(null, mode)} dangerouslySetInnerHTML={this.injectFooter()} />
      </div>
    );
  }

});
