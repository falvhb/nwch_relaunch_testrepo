import React from 'react';
import bem from 'react-bem-helper';

import DateFormatter from 'components/date-formatter';
import ArticleByline from 'components/article-byline';

const classes = new bem({
  name: 'article-header',
  prefix: ''
});

export default React.createClass({

  displayName: 'ArticleHeader',

  propTypes: {
    catchword: React.PropTypes.string.isRequired,
    title: React.PropTypes.string.isRequired,
    author: React.PropTypes.string,
    source: React.PropTypes.string,
    published: React.PropTypes.string,
    modified: React.PropTypes.string.isRequired
  },

  render() {
    var { catchword, title, author, source, published, modified } = this.props;

    return (
      <header {...classes()}>
        <p itemProp='genre' {...classes('catchword', null, 'type-catchword')}>{catchword}</p>
        <h1 itemProp="headline" {...classes('title', null, 'type-h1')}>{title}</h1>
        <div {...classes('meta', null, 'type-detail')}>
          <ArticleByline source={source} author={author} />
          <p {...classes('date')}>
            {published ?
              <meta itemProp='datePublished' content={published} />
            :null}
            {modified ?
              <meta itemProp='dateModified' content={modified} />
            :null}
            <DateFormatter
              publicationDate={published}
              modificationDate={modified}
            />
          </p>
        </div>
      </header>
    );
  }

});
