'use strict';

const React = require('react');
const bem = require('react-bem-helper');

const classes = new bem({
  name: 'article-header',
  prefix: ''
});

const ArticleHeader = React.createClass({

  formatDate(date) {
    var d = new Date(date);

    return d.getDate()
      + '.' + d.getMonth()
      + '.' + d.getFullYear()
      + ' ' + d.getHours()
      + ':' + d.getMinutes() + ' Uhr';
  },

  render() {
    return (
      <header {...classes()}>
        <p itemProp='genre' {...classes('catchword', null, 'type-tiny-header')}>{this.props.spitzmarke}</p>
        <h1 itemProp="headline" {...classes('title', null, 'type-h1')}>{this.props.title}</h1>
        <div {...classes('meta', null, 'type-detail')}>
          <p itemProp='author' {...classes('author', null)}>{this.props.author} â€“ {this.props.source}</p>
          {this.props.modifieddate && this.props.modifieddate !== this.props.createdate
            ? <p itemProp='dateModified' {...classes('date')}>Zuletzt aktualisiert am {this.formatDate(this.props.modifieddate)}</p>
            : <p itemProp='dateCreated' {...classes('date')}>{this.formatDate(this.props.createdate)}</p>
          }
        </div>
        {this.props.children}
      </header>
    );
  }

});

module.exports = ArticleHeader;
