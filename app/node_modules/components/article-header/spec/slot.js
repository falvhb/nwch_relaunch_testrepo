/* eslint-disable no-unused-expressions */

import _ from 'lodash';
import slot from 'components/article-header/slot';
import state from 'utils/data/master-article';

import { expect } from 'chai';

describe('ArticleHeader', function() {

  describe('slot', function() {

    let fixture;

    beforeEach(function() {
      fixture = slot.data(state);
    });

    it('does not set iso rendering', function() {
      expect(slot.iso).to.be.false;
    });

    it('returns data', function() {
      expect(fixture).to.be.an('object');
    });

    it('data has a title', function() {
      expect(fixture.title).to.be.a('string');
    });

    it('data has a catchword', function() {
      expect(fixture.catchword).to.be.an('string');
    });

    it('data has a byline', function() {
      expect(fixture.byline).to.be.an('object');
    });

    it('data has an author / source', function() {
      expect(_.has(fixture, 'byline.author')).to.be.true;
      expect(_.has(fixture, 'byline.source')).to.be.true;
    });

    it('data has date information', function() {
      expect(fixture.byline.date).to.be.an('object');
    });

    it('data has published / modified dates', function() {
      expect(_.has(fixture, 'byline.date.publicationDate')).to.be.true;
      expect(_.has(fixture, 'byline.date.modificationDate')).to.be.true;
    });

    it('data has published / modified schema', function() {
      expect(_.has(fixture, 'byline.schema.datePublished')).to.be.true;
      expect(_.has(fixture, 'byline.schema.dateModified')).to.be.true;
    });

  });

});
