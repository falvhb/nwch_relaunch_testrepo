@import 'globals';
@import 'utilities/variables';

// Note: these three variables are relying on global ones, so they cannot be
// defined in `utilities/variables`.

/// The spacing (right, bottom) for floated störers (large screens)
/// @type Length
/// @group enrichment
$enrichment-floated-spacing: ($container-spacing * 1.5);

/// The basic spacing for störers on large screens
/// @type Length
/// @group enrichment
$enrichment-large-spacing: ($container-spacing * 2);

/**
 * Enrichment wrapper
 */
.enrichment {
  /**
   * Clear inner float as `overflow: hidden` is not an option
   */
  &::after {
    content: '';
    display: table;
    clear: both;
  }
}

.enrichment .caption {
  float: left;
}


/**
 * Enrichment wrapper for full-width elements
 */
.enrichment--full {
  @include edges('pull');
  clear: both;
  margin-top: 30px;
  margin-bottom: 30px;
}

.enrichment--full .caption {
  @include edges('push');
}

/**
 * Enrichment for snippet enrichments
 */
.enrichment--full.enrichment--snippet-stoerer,
.enrichment--full.enrichment--snippet-stoerer .caption {
  margin-left: 0;
  margin-right: 0;
}


/**
 * Enrichment wrapper for floated elements
 */
.enrichment--aside {
  @include edges('pull', 'mobile');

  @include media('<=float-enrichments') {
    margin-top: 30px;
    margin-bottom: 30px;
  }

  @include media('>float-enrichments') {
    float: left;
    width: $enrichment-width;
    margin: 6px $enrichment-floated-spacing $enrichment-floated-spacing 0;
  }

  /**
   * Enrichments when there is enough gutter for negative left margin
   */
  @include media('>tablet-portrait', '<=desktop-laptop') {
    margin-left: -$enrichment-offset--small;
  }

  @include media('>1275px', '<=advertising-skyscraper') {
    margin-left: -$enrichment-offset--small;
  }

  @include media('>1550px') {
    margin-left: -$enrichment-offset--large;
  }
}

.enrichment--aside .caption {
  @include edges('push', 'mobile');
}
