@import 'globals';
@import 'utilities/variables';

// Note: these three variables are relying on global ones, so they cannot be
// defined in `utilities/variables`.

/// The spacing (right, bottom) for floated störers (large screens)
/// @type Length
/// @group enrichment
$enrichment-floated-spacing: ($container-spacing * 1.5);

/// The basic spacing for störers on large screens
/// @type Length
/// @group enrichment
$enrichment-large-spacing: ($container-spacing * 2);

/**
 * Enrichment wrapper
 */
.enrichment {
  /**
   * Clear inner float as `overflow: hidden` is not an option
   */
  &::after {
    content: '';
    display: table;
    clear: both;
  }
}

.enrichment .caption {
  float: left;
}


/**
 * Enrichment wrapper for full-width elements
 */
.enrichment--full {
  @include edges('pull');
  margin-top: 30px;
  margin-bottom: 30px;
}

.enrichment--full .caption {
  @include edges('push');
}

/**
 * Enrichment for snippet enrichments
 */
.enrichment--full.enrichment--snippet-stoerer,
.enrichment--full.enrichment--snippet-stoerer .caption {
  margin-left: 0;
  margin-right: 0;
}


/**
 * Enrichment wrapper for floating elements
 */
.enrichment--aside {
  @include edges('pull', 'mobile');

  @include media('<=mobile-portrait') {
    margin-top: 30px;
    margin-bottom: 30px;
  }

  /**
   * enrichment wrapper for floating elements when there actually is enough room
   * to make it floated
   * 1. Top margin is a magic number, right and bottom is to leave some room
   *    between the enrichment and the core content
   */
  @include media('>mobile-portrait') {
    float: left;
    margin: 26px $enrichment-floated-spacing $enrichment-floated-spacing 0; /* 1 */
    width: $enrichment-width;
  }

  /**
   * enrichment when there is enough room for small offset in the margin
   */
  @include media('>#{$enrichment-breakpoint--small}') {
    margin-left: -$enrichment-offset--small;
  }

  /**
   * enrichment when there is enough room for large offset in the margin
   */
  @include media('>#{$enrichment-breakpoint--large}') {
    margin-left: -$enrichment-offset--large;
  }
}

.enrichment--aside .caption {
  @include edges('push', 'mobile');
}
