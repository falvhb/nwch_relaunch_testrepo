var getArticleUrl = require('helpers/get-article-url');
var getMainAsset = require('helpers/get-main-asset');

module.exports = function(state) {

  var parseDateString = function(article, variation) {
    return variation ? article.dc.created : '';
  };

  var parsedData = function(props) {
    var article = props.article;
    var mainAsset = getMainAsset(article.assets);

    return {
      modifier: props.variation,
      title: article.title,
      catchword: article.context_label,
      supplementary: parseDateString(article, props.variation),
      asset: (props.variation === 'light' || props.variation === 'light-boxed' ? null : mainAsset),
      url: getArticleUrl(article)
    };
  };

  return parsedData(state);

};
