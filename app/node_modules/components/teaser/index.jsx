import React from 'react';
import bem from 'react-bem-helper';

import ResponsiveImage from 'components/responsive-image';

const classes = new bem({
  name: 'teaser',
  prefix: ''
});

export default React.createClass({

  displayName: 'Teaser',

  propTypes: {
    primary: React.PropTypes.string.isRequired,
    secondary: React.PropTypes.string.isRequired,
    tertiary: React.PropTypes.string,
    image: React.PropTypes.object
  },

  getDefaultProps() {
    return {
      modifier: 'basic',
      theme: 'default'
    };
  },

  render() {
    var modifiers = [this.props.modifier];
    var ratio = '16x9';

    if (this.props.modifier === 'promoted') {
      modifiers.push(this.props.theme);
      ratio = '9x10';
    }

    return (
      <article {...classes(null, this.props.modifier)} itemScope itemType='http://schema.org/Article'>
        <div {...classes('inner')}>
          {this.props.asset
            ? <div {...classes('image')}>
                <ResponsiveImage
                  ratio={ratio}
                  size='max'
                  alt={this.props.asset.description ? this.props.asset.description : ''}
                  title={this.props.asset.title ? this.props.asset.title : ''}
                  src={this.props.asset.image_url} />
              </div>
            : ''}
          <footer {...classes('footer')}>
            <p {...classes('secondary')}>{this.props.secondary}</p>
            <h1 {...classes('primary')} itemProp='name'>{this.props.primary}</h1>
            {this.props.tertiary
              ? <p {...classes('tertiary')}>{this.props.tertiary}</p>
              : ''}
          </footer>
        </div>
      </article>
    );

  }

});
