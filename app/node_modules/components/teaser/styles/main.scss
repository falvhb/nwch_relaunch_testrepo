@import 'globals';

/**
 * A teaser is a preview of an article, usually in the form of a small box
 * containing some information about the related article, such as the title, the
 * category and the date. These data depend on the usage of the teaser and are
 * not always the same.
 *
 * There are 6 different variations of this component:
 * - `basic`: the basic one containing a picture, primary, secondary and
 * tertiary content.
 * - `light`: a variation with an image, but with a top border instead.
 * - `light-boxed`: like `light` variation except it sits on a light-grey
 * background, giving an idea of *boxed* content.
 * - `inlined-left`: a variation with the image floated on the left, perfect
 * for list representations.
 * - `inlined-right`: a variation with the image floated on the right, perfect
 * for list representations.
 * - `listed`: a variation meant to be displayed in list of teasers.
 * - `large`: a large variation where the content sits on top of the image,
 * layered with a transparent black background for readibility.
 *
 * All styles shared to all variations are applied to the `.teaser` class and
 * its elements. Anything specific to a teaser variation is applied using the
 * modifier class of the relevant variation (e.g. `.teaser--large`).
 */

/**
 * Body
 */
.teaser {
  overflow: hidden;
}

/**
 * Block-level link
 */
.teaser__link {
  text-decoration: none;
  color: inherit;
  display: block;
}

/**
 * Link hover style
 */
.teaser__link {
  @include on-interaction {
    .teaser__title-text-wrap {
      box-shadow: inset 0 -1px 0 $black;
    }
  }
}

/**
 * Teaser footer
 * 1. Change line-height on parent because some variations have inlined elements
 */
.teaser__footer {
  line-height: 1.1; /* 1 */
}

/**
 * Teaser primary content (usually the article title)
 */
.teaser__title {
  font: 16px / 1.315 $text-font-stack;
  font-weight: 700;
  margin-bottom: ($container-spacing / 2);
}

/**
 * Teaser secondary content (usually the date but not necessarily)
 */
.teaser__catchword {
  @include type-catchword;
  font-size: 0.75em;
  margin-bottom: 6px;
}

/**
 * Teaser tertiary content (usually the spitzmarke)
 */
.teaser__supplementary {
  @include type-detail;
  font-size: 0.75em;
}

/**
 * Teaser image (if any)
 * 1. We will fade slightly
 * 2. Image hover transition
 * 3. Brighten the image (as we have a light background)
 * 4. Image hover effect. translateZ stops Safari text-flicker bug
 */
.teaser__image {
  position: relative;
  overflow: hidden;
}

.teaser__image.is-failed {
  opacity: 0;
}

.no-touch .teaser__image {
  opacity: 1; /* 1 */
  transition: all 0.25s ease; /* 1 */
}

.no-touch .responsive-image {
  transform: scale(1) translateZ(0); /* 4 */
  transition: transform 0.25s cubic-bezier(0.39, 0.575, 0.565, 1); /* 2 */
}

.no-touch .teaser__link {
  @include on-interaction {
    .teaser__image {
      opacity: 0.9; /* 3 */
    }

    .responsive-image {
      transform: scale(1.015) translateZ(0); /* 4 */
    }
  }
}

@import 'variations/basic';
@import 'variations/basic-listed';
@import 'variations/light';
@import 'variations/light-boxed';
@import 'variations/inlined';
@import 'variations/inverted';
@import 'variations/plain';
@import 'variations/listed';
@import 'variations/large';
@import 'variations/mega';
