import React from 'react';
import sanitizeHtml from 'sanitize-html';

export default React.createClass({

  displayName: 'RawContent',

  propTypes: {
    content: React.PropTypes.string.isRequired
  },

  cleanContent(content) {
    return sanitizeHtml(content, {
      exclusiveFilter: function(frame) {
        var text = frame.text.trim();
        return frame.tag === 'p' && (!text || text === '&nbsp;');
      }
    });
  },

  render() {
    return (
      <div className="copy" dangerouslySetInnerHTML={{ __html: this.cleanContent(this.props.content) }} />
    );
  }

});
