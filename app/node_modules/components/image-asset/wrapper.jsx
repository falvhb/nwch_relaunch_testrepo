import React from 'react';
import _ from 'lodash';

import getImageProps from 'helpers/get-image-props';
import getCaptionProps from 'helpers/get-caption-props';

export default Component =>  React.createClass({

  displayName: 'ImageAssetWrapper',

  propTypes: {
    asset: React.PropTypes.object,
    size: React.PropTypes.string
  },

  mappedData(props) {
    return {
      image: _.assign(getImageProps(props.asset), { size: props.size }),
      caption: getCaptionProps(props.asset)
    };

  },

  render() {
    return (
      <Component {...this.mappedData(this.props)} />
    );
  }

});
