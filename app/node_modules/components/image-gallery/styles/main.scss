@import 'globals';

.image-gallery {
  // position: absolute;
  // top: 0;
  // right: 0;
  // bottom: 0;
  // left: 0;
  @include media('>730px') {
    overflow: hidden;
  }

  // margin-left: -($container-spacing * 2); /* 2 */
  // margin-right: -($container-spacing * 2); /* 2 */
  // padding-bottom: 75%;

  /* inherit height from parent */
}

.image-gallery__nav {
  position: absolute;
  top: 0;

  @include media('<=730px') {
    padding-top: 67.5%;
    left: -$container-spacing;
    right: -$container-spacing
  }

  @include media('>730px') {
    padding-top: 75%;
    right: 0;
    left: 0;
  }

  pointer-events: none;
  z-index: 1;
}

.image-gallery__item {

  @include media('<=730px') {
    width: 90%; /* 1 */
    padding-right: ($container-spacing / 4);
    padding-left: ($container-spacing / 4);
  }

  @include media('>730px') {
    width: 100%;
  }
}

.image-gallery__item {
  @include media('<=730px') {
    padding-left: 9px;
    padding-right: 9px;
  }

  .caption {
    margin-top: 40px;

    @include media('<=730px') {
      margin-left: 0;
      margin-right: 0;
    }
  }
}

.image-gallery__image {
  overflow: hidden;
}

.image-gallery .flickity-viewport {
  box-sizing: content-box;
  padding-top: 75%;
  position: relative;
}

.image-gallery .flickity-slider {
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
}

/**
 * Slide number
 * 1. Slightly reduce font size to make it more subtle
 */
.image-gallery__slide-number {
  background: $light-grey;
  color: $medium-grey;
  line-height: 40px;
  padding-left: 15px;
  padding-right: 15px;
  position: absolute;
  left: 0;
  top: 100%;
  right: 0;
}

.image-gallery__fullscreen {
  display: none;
}

/**
 * Previous / Next buttons
 * 1. On top of gallery
 */
.image-gallery__button {
  position: absolute;
  top: 0;
  bottom: 0;
  z-index: 2; /* 1 */
  background-color: $medium-grey;
  pointer-events: auto;
  outline: 0;

  @include media('<=730px') {
    display: none;
  }

  /**
   * Redefine color and size for icons
   */
  .icon {
    fill: white;
    width: 65px;
    height: 65px;
    opacity: 0.7;
  }

  @include on-interaction {
    .icon {
      opacity: 1;
    }
  }
}

/**
 * Previous button
 */
.image-gallery__button--prev {
  left: 0;
  background: linear-gradient(to right, rgba(black, 0.5), transparent);
}

/**
 * Next button
 */
.image-gallery__button--next {
  right: 0;
  background: linear-gradient(to left, rgba(black, 0.5), transparent);
}
