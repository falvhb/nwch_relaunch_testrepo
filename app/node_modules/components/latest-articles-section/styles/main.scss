@import 'globals';

$divide-border: 1px solid darken($light-grey, 10%);

$grid-two-cols: 500px;

$grid-three-cols: 900px;

/**
 * Section wrapper
 */
.latest-articles-section {
  @include media('>#{$grid-two-cols}') {
    padding-bottom: 10px;
    border-bottom: $divide-border;
  }
}

/**
 * Grid wrapper
 */
.latest-articles-section__grid {
  @include grid-wrap;
}

/**
 * Grid items
 */
.latest-articles-section__grid-item,
.latest-articles-section__list-item {
  @include grid-cell;
}

/**
 * Outer grid (columns)
 * 1. Float on larger screens
 * 2. Two columns on medium screens
 */
.latest-articles-section__grid-item {
  @include media('>#{$grid-two-cols}') {
    float: left; /* 1 */
  }

  @include media('>#{$grid-two-cols}', '<=#{$grid-three-cols}') {
    width: (100% / 2); /* 2 */
  }
}

/**
 * First column (featured item)
 * 1. One third
 */
.latest-articles-section__grid-item--featured {
  @include media('>#{$grid-three-cols}') {
    width: (100% / 3); /* 1 */
  }
}

/**
 * Second column (listed items)
 * 1. Two thirds
 */
.latest-articles-section__grid-item--list {
  @include media('>#{$grid-three-cols}') {
    width: (100% / 3) * 2; /* 2 */
  }
}

/**
 * List items
 * 1. Two columns (three columns overall)
 * 2. Hide unused list items on medium screens (we only show 4)
 */
.latest-articles-section__list-item {
  @include media('<=#{$grid-three-cols}') {
    width: 100%;
  }

  @include media('>#{$grid-three-cols}') {
    width: (100% / 2); /* 1 */
  }
}

.latest-articles-section__list-item:nth-child(n+5) {
  @include media('>#{$grid-two-cols}', '<=#{$grid-three-cols}') {
    display: none; /* 2 */
  }
}

/**
 * Teaser wrapper (for spacing and borders)
 */
.latest-articles-section__teaser-wrap {
  padding-top: 12px;
  padding-bottom: 12px;

  @include media('<=#{$grid-two-cols}') {
    padding-left: 5px;
    padding-right: 5px;
  }

  @include media('<=#{$grid-two-cols}') {
    border-bottom: $divide-border;
  }
}

/**
 * Teaser wrappers for listed items
 * 1. Remove border for item 4 and on
 * 2. Remove border for items 7 and on
 */
.latest-articles-section__list-item .latest-articles-section__teaser-wrap {
  @include media('>#{$grid-two-cols}') {
    border-bottom: $divide-border;
  }
}

.latest-articles-section__list-item:nth-child(n+4) .latest-articles-section__teaser-wrap {
  @include media('>#{$grid-two-cols}', '<=#{$grid-three-cols}') {
    border-bottom: 0; /* 1 */
  }
}

.latest-articles-section__list-item:nth-child(n+7) .latest-articles-section__teaser-wrap {
  @include media('>#{$grid-three-cols}') {
    border-bottom: 0; /* 2 */
  }
}
