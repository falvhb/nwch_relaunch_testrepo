/* eslint-disable no-console */
var _ = require('lodash');


var parsedData = function(state) {
  var data;

  // transform video and domain data from api schema
  // to target schema required by the component.
  data = _.assign({}, state.api._data.videos, {domain: state.api._data.domain}, {kaltura: state.api._data.kaltura});

  // Set required props for the component
  data.accountID = process.env.KALTURA_ACCOUNT_ID;
  data.playerID = state.api._data.domain.data.properties.kaltura_mediathek_video_player_id;
  data.categoryId = state.api._data.domain.data.properties.kaltura_mediathek_category_id;
  data.pageSize = 12;

  //assign video source
  data.initialVideoSource = state.api._data.initialVideoSource;

  return data;
};

module.exports = {
  iso: true,
  data: parsedData
};
