/* eslint-disable no-console */
var _ = require('lodash');


var parsedData = function(state) {
  var data;
  // console.info('============= slot.js called: ', __filename);

  // transform video and domain data from api schema
  // to target schema required by the component.
  data = _.assign({}, state.api._data.videos, {domain: state.api._data.domain});

  // console.info(state.api._data.domain.data.properties);

  // Set required props for the component
  data.kalturaAPIDomain = state.api._data.domain.data.properties.domain_name;
  // @TODO: will be added to the api in the future
  // data.accountID = state.api._data.domain.properties.kaltura_account_id;
  data.accountID = '1789881';
  data.playerID = state.api._data.domain.data.properties.kaltura_mediathek_video_player_id;
  data.categoryId = state.api._data.domain.data.properties.kaltura_mediathek_category_id;
  data.pageSize = 12;

  //assign video source
  data.initialVideoSource = state.api._data.initialVideoSource;

  return data;
};

module.exports = {
  iso: true,
  data: parsedData
};
