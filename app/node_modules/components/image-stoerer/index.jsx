'use strict';

const React = require('react');
const bem = require('react-bem-helper');

const ResponsiveImage = require('components/responsive-image');

const classes = new bem({
  name: 'image-stoerer',
  prefix: ''
});

const ImageStoerer = React.createClass({

  render() {
    var asset = this.props.asset ? this.props.asset : this.props;
    var position = this.props.placement && ['left', 'right'].indexOf(this.props.placement) > -1 ? 'floating' : 'full';

    return (
      <figure itemScope itemType="http://schema.org/ImageObject" {...classes(null, position)}>
        <ResponsiveImage
          {...classes('responsive-image')}
          ratio="16x9"
          size="full"
          alt={asset.description}
          title={asset.title}
          src={asset.url} />
        <figcaption {...classes('footer')}>
          <p {...classes('title')} itemProp="name">{asset.title}</p>
          <p {...classes('caption')} itemProp="description">
            {asset.description}
            <span {...classes('source')} itemProp="author">{asset.source}</span>
          </p>
        </figcaption>
      </figure>
    );
  }

});

module.exports = ImageStoerer;
