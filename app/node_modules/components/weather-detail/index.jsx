import React from 'react';
import BEM from 'react-bem-helper';

import Section from 'components/section';
import SectionHeader from 'components/section-header';
import Container from 'components/container';
import WeatherForecast from 'components/weather-forecast';

const classes = new BEM({
  name: 'weather-detail',
  prefix: ''
});

export default React.createClass({

  displayName: 'WeatherDetail',

  propTypes: {
    // weatherIcon: React.PropTypes.string.isRequired,
    // minTemperature: React.PropTypes.number.isRequired,
    // maxTemperature: React.PropTypes.number.isRequired,
    // weatherText: React.PropTypes.string.isRequired
  },

  getInitialState() {
    return this.state = {
      parish: this.props.parishes[0].name
    };
  },

  select(event) {
    this.setState({parish: event.target.value});
  },

  render() {

    let options = this.props.parishes.map((item, index) => {
      return <option value={item.name} key={index}>{item.name}</option>;
    });

    return (

      <Section modifier='default'>
        <Container>
          <SectionHeader title='Gemeinde Ã¤ndern:' />
          <select
            {...classes('dropdown')}
            onChange={this.select}
            value={this.state.parish}
          >
            {options}
          </select>

          <div {...classes()}>
            <div  {...classes('data')}>
              <WeatherForecast
                weatherIcon={this.props.weatherIcon}
                minTemperature={this.props.minTemperature}
                maxTemperature={this.props.maxTemperature}
              />
            </div>
            <div {...classes('text')}>{this.props.weatherText}</div>
          </div>
        </Container>
      </Section>
    );
  }
});
