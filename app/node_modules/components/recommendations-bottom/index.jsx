import React from 'react';
import bem from 'react-bem-helper';

import Block from 'components/block';
import Teaser from 'components/teaser';
import Grid from 'components/grid';

const classes = new bem({
  name: 'recommendations-bottom',
  prefix: ''
});

export default React.createClass({

  displayName: 'RecommendationsBottom',

  variations: ['large', 'light', 'light', 'basic', 'basic', 'basic'],

  propTypes: {
    teasers: React.PropTypes.array.isRequired
  },

  render() {

    var items = [];
    var stash = [];

    this.props.teasers.forEach((teaser, index) => {
      if (index === 1) {
        stash.push(<div {...classes('teaser-wrapper')} key={index}><Teaser key={index} {...teaser} /></div>);
      } else if (index === 2) {
        stash.push(<div {...classes('teaser-wrapper')} key={index}><Teaser key={index} {...teaser} /></div>);
        items.push(<div key={index}>{stash}</div>);
      } else {
        items.push(<Teaser key={index} {...teaser} />);
      }
    });

    return (
      <section {...classes()}>
        <Block modifier="default">
          <p {...classes('catchword')}>Und Jetzt</p>
          <h1 {...classes('title')}>Lesen Sie Ausserdem</h1>
          <Grid items={items} modifier={'three-up-featured'} />
        </Block>
      </section>
    );
  }

});
