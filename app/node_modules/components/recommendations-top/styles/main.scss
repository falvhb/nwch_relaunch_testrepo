@import 'globals';

.recommendations-top {
  border-top: 4px solid $light-blue;
  padding-top: $container-spacing;

  @include media('<=large') {
    margin-bottom: 50px;
  }

  @include media('>large') {
    width: $sidebar-width;
  }
}

.recommendations-top__title {
  font-family: $supporting-font-stack;
  font-size: 1em;
  margin-bottom: $container-spacing;
}

/**
 * Button to expand module on small screens
 * 1. Reset default styles
 * 2. Readjust vertical rhythm
 * 3. Hidden as a default
 * 4. Using Flexbox for the thin line before the text
 */
.recommendations-top__button {
  background-color: transparent; /* 1 */
  color: $light-blue; /* 1 */
  font-family: $supporting-font-stack;
  font-size: 14px;
  font-weight: bold;
  text-transform: uppercase;
  letter-spacing: 0.1em;
  margin: -$container-spacing 0 $container-spacing; /* 2 */
  display: none; /* 3 */
  align-items: center; /* 4 */
  text-align: right;
  width: 100%;

  /**
   * Hidden on large screens
   */
  @include media('>large') {
    display: none;
  }

  /**
   * Thin line before text
   */
  &::before {
    content: '';
    height: 2px;
    flex: 1 0 auto;
    margin-right: ($container-spacing / 2);
    margin-top: ($container-spacing / 2);
    background: $light-grey;
  }

  /**
   * Redefine a few styles for the icon
   */
  .icon {
    fill: $light-blue;
    width: 14px;
    height: 14px;
    margin-left: ($container-spacing / 2);
  }
}

/**
 * Display button when module is collapsed on small screens
 */
.recommendations-top--collapsed .recommendations-top__button {
  display: flex;

  @include media('>large') {
    display: none;
  }
}

/**
 * Hide all cells when toggle hasn't been clicked yet
 */
.recommendations-top__cell {
  margin-bottom: 30px;
}

.recommendations-top--collapsed .recommendations-top__cell {
  @include media('<=550px') {
    &:nth-child(n+2) {
      display: none;
    }
  }

  @include media('>550px', '<=large') {
    &:nth-child(n+3) {
      display: none;
    }
  }
}


/**
 * Make the recommended articles into columns on medium screens
 */
.recommendations-top__grid {
  @include media('>550px', '<=large') {
    overflow: hidden;
  }
}

.recommendations-top__cell {
  @include media('>550px', '<=large') {
    width: 50%;
    float: left;

    &:nth-child(2n) {
      padding-left: 30px;
      margin-right: 30px;
      margin-left: -30px;
    }

    &:nth-child(2n+2) {
      clear: left;
    }
  }

  @include media('>large') {
    &:last-child {
      margin-bottom: 0;
    }
  }
}
