@import 'globals';

.recommendations-top {
  border-top: 4px solid $light-blue;
  padding-top: $container-spacing;

  @include media('<=large') {
    margin-bottom: 50px;
    width: 100%;
  }

  @include media('>large') {
    width: $sidebar-width;
  }
}

.recommendations-top__title {
  font-family: $supporting-font-stack;
  font-size: 1em;
  margin-bottom: $container-spacing;
}


/**
 * Display button when module is collapsed on small screens
 */
.recommendations-top--collapsed .recommendations-top__button {
  display: flex;

  @include media('>large') {
    display: none;
  }
}

/**
 * Hide all cells when toggle hasn't been clicked yet
 */
.recommendations-top__cell {
  margin-bottom: 30px;
}

.recommendations-top--collapsed .recommendations-top__cell {
  @include media('<=550px') {
    &:nth-child(n+2) {
      display: none;
    }
  }

  @include media('>550px', '<=large') {
    &:nth-child(n+3) {
      display: none;
    }
  }
}


/**
 * Make the recommended articles into columns on medium screens
 */
.recommendations-top__grid {
  @include media('>550px', '<=700px') {
    margin-left: -30px;
    overflow: hidden;
  }

  @include media('>700px', '<=large') {
    margin-left: -40px;
  }
}

.recommendations-top__cell {
  @include media('>550px', '<=large') {
    width: 50%;
    float: left;

    &:nth-child(2n+1) {
      clear: left;
    }
  }

  @include media('>550px', '<=700px') {
    padding-left: 30px;
  }

  @include media('>700px', '<=large') {
    padding-left: 40px;
  }

  @include media('>large') {
    &:last-child {
      margin-bottom: 0;
    }
  }
}

/**
 * Button to expand module on small screens
 * 1. Reset default styles
 * 2. Readjust vertical rhythm
 * 3. Hidden as a default
 * 4. Using Flexbox for the thin line before the text
 */
.recommendations-top__button {
  background-color: transparent; /* 1 */
  color: $light-blue; /* 1 */
  font-family: $supporting-font-stack;
  font-size: 14px;
  font-weight: bold;
  text-transform: uppercase;
  letter-spacing: 0.1em;
  margin: -$container-spacing 0 $container-spacing; /* 2 */
  padding: 0;
  display: none; /* 3 */
  align-items: center; /* 4 */
  text-align: right;
  width: 100%;
  height: 44px;

  /**
   * Hidden on large screens
   */
  @include media('>large') {
    display: none;
  }

  /**
   * Thin line before text
   */
  &::before {
    content: '';
    height: 2px;
    flex: 1 0 auto;
    margin-right: ($container-spacing / 2);
    margin-top: ($container-spacing / 2);
    margin-bottom: ($container-spacing / 2);
    background: $light-grey;
    padding: 0;
  }

  /**
   * Redefine a few styles for the icon
   */
  .icon {
    fill: $light-blue;
    width: 14px;
    height: 14px;
    margin-left: ($container-spacing / 2);
  }

  span {
    &:before {
      width: 14px;
      height: 14px;
      margin-right: 3px;
      background: url('/__node__/__static__/client/images/icons/slide-open.svg') center center no-repeat;
      content: '';
      display: inline-block;
    }
  }
}

