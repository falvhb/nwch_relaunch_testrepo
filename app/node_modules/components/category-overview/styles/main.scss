@import 'globals';

.category-overview {
  background-color: $very-light-grey;
  border-top: 5px solid transparent;
  padding-top: 20px;
  padding-bottom: 20px;
}

.category-overview--meinung {
  border-top-color: $orange;
}

.category-overview .teaser {
  overflow: visible;

  @include media('<=grid-break-2') {
    position: relative;
    padding-top: 20px;
    padding-bottom: 20px;
  }

  @include media('>grid-break-2') {
    padding-top: 40px;
    padding-bottom: 40px;
  }
}

/**
 * Grid element
 * 1. Positions the dividing lines on larger screens
 */
.category-overview .grid {
  @include media('>grid-break-2') {
    position: relative; /* 1 */
  }
}

/**
 * Grid items
 */
.category-overview .grid__item {
  margin-bottom: 0;
}

/**
 * Dividing lines set by Teasers
 * 1. Set absolute position
 * 2. Set color
 * 3. Above everything else
 */
.category-overview .teaser::before {
  position: absolute; /* 1 */
  content: '';
  background-color: white; /* 2 */
  z-index: 1; /* 3 */
}

/**
 * Every dividing line after the first
 * 1. Make it a line
 * 2. Above Teaser on smaller screens
 * 3. Left to right (horizontally) on smaller screens
 * 3. Top to bottom (vertically) on larger screens
 */
.category-overview .grid__item:nth-child(n+2) .teaser::before {
  @include media('<=grid-break-1') {
    height: 1px; /* 1 */
    top: 0; /* 2 */
    left: 0; /* 3 */
    right: 0; /* 3 */
  }

  @include media('>grid-break-2') {
    width: 1px; /* 1 */
    top: 20px; /* 4 */
    bottom: 20px; /* 4 */
  }
}

/**
 * Dividing lines on medium screens
 * Note: use the 3rd item to divide as it always clears first two items
 * 1. Make line horizontally above item 3
 * 2. Also add after element / line for dividing second column
 * 3. As wide as the column
 * 4. Pushed over to the left, under column 2
 */
.category-overview .grid__item:nth-child(n+3) .teaser::before {
  @include media('>grid-break-1', '<=grid-break-2') {
    height: 1px; /* 1 */
    top: 0; /* 1 */
    left: 0; /* 1 */
    right: 0; /* 1 */
  }
}

.category-overview .grid__item:nth-child(n+3) .teaser::after {
  @include media('>grid-break-1', '<=grid-break-2') {
    position: absolute; /* 2 */
    content: ''; /* 2 */
    background-color: white; /* 2 */
    z-index: 1; /* 2 */
    height: 1px; /* 2 */
    width: 100%; /* 3 */
    top: 0;
    left: 100%; /* 4 */
    margin-left: 18px; /* 4 */
  }
}

/**
 * Dividing line at position 2, large sceens
 * 1. 1/3rd of the way across the grid
 */
.category-overview .grid__item:nth-child(2n+1) .teaser::before {
  @include media('>grid-break-2') {
    left: (100% / 3); /* 1 */
  }
}

/**
 * Dividing line at position 3, large sceens
 * 1. 2/3rds of the way across the grid
 */
.category-overview .grid__item:nth-child(2n+2) .teaser::before {
  @include media('>grid-break-2') {
    left: (100% / 3) * 2; /* 2 */
  }
}
