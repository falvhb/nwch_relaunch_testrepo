@import 'globals';

.category-overview {
  background-color: $very-light-grey;
  border-top: 5px solid transparent;
  padding-top: 20px;
  padding-bottom: 20px;
}

.category-overview--meinung {
  border-top-color: $orange;
}

.category-overview .teaser {
  overflow: visible;
  position: relative;

  @include media('<=grid-break-2') {
    padding-top: 20px;
    padding-bottom: 20px;
  }

  @include media('>grid-break-2') {
    padding-top: 40px;
    padding-bottom: 40px;
  }
}

/**
 * Grid items
 */
.category-overview .grid__item {
  margin-bottom: 0;
}

/**
 * Dividing lines set by Teasers
 * 1. Set absolute position
 * 2. Set color
 * 3. Above everything else
 */
.category-overview .teaser::before {
  position: absolute; /* 1 */
  content: '';
  background-color: white; /* 2 */
  z-index: 1; /* 3 */
}

/**
 * Every dividing line after the first
 * 1. Make it a line
 * 2. Above Teaser on smaller screens
 * 3. Left to right (horizontally)
 */
.category-overview .grid__item:nth-child(n+2) .teaser::before {
  @include media('<=grid-break-1') {
    height: 1px; /* 1 */
    top: 0; /* 2 */
    left: 0; /* 3 */
    right: 0; /* 3 */
  }
}

/**
 * Dividing lines on medium screens
 * 1. Make it a line
 * 2. Below Teaser on medium screens
 * 3. Left to right (horizontally)
 * 4. Rediculous recipe to remove lines below items in bottom row of grid
 */
.category-overview .grid__item .teaser::before {
  @include media('>grid-break-1', '<=grid-break-2') {
    height: 1px; /* 1 */
    bottom: 0; /* 2 */
    left: 0; /* 3 */
    right: 0; /* 3 */
  }
}

.category-overview .grid__item:last-child .teaser::before,
.category-overview .grid__item:nth-child(even):nth-last-child(2) .teaser::before {
  @include media('>grid-break-1', '<=grid-break-2') {
    display: none; /* 4 */
  }
}

/**
 * Dividing lines on large screens
 * 1. Make it a line
 * 2. Left of Teaser on large screens
 * 3. Top to bottom (vertically)
 */
.category-overview .grid__item:nth-child(n+2) .teaser::before,
.category-overview .grid__item:nth-child(n+3) .teaser::before {
  @include media('>grid-break-2') {
    width: 1px; /* 1 */
    left: -10px; /* 2 */
    top: 10px; /* 3 */
    bottom: 10px; /* 3 */
  }
}
