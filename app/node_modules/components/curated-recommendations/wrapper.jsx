import React from 'react';

import getArticleUrl from 'helpers/get-article-url';

export default Component => React.createClass({

  displayName: 'CuratedRecommendationsWrapper',

  propTypes: {
    author: React.PropTypes.string,
    teasers: React.PropTypes.array.isRequired
  },

  mappedTeasers(teasers) {
    return teasers.map((teaser) => {
      teaser.url = getArticleUrl(teaser);
      return teaser;
    });
  },

  mappedData(props) {
    return {
      author: props.author,
      teasers: this.mappedTeasers(props.teasers)
    };
  },

  render() {
    return (
      <Component {...this.mappedData(this.props)} />
    );
  }

});
