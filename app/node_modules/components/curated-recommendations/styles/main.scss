@import 'globals';

/**
 * Curated recommendations wrapper
 * 1. Overflows the container
 */
.curated-recommendations {
  @include expand; /* 1 */
  margin: ($container-spacing * 1.5) 0;
}

/**
 * Curated recommendations title
 */
.curated-recommendations__title {
  text-align: center;
  font-family: $supporting-font-stack;
  font-size: 1em;
  margin-bottom: $container-spacing;
}


/**
 * Curated recommendations wrapper
 * 1. Hard-code the height for equal-height columns
 */
.curated-recommendations__wrapper {
  height: 145px; /* 1 */
}

/**
 * Make the Flickity gallery full height by inherit `height` from
 * `.curated-recommendations__wrapper` 
 */
.flickity-slider,
.flickity-viewport,
.teaser {
  height: 100%;
}

/**
 * Curated recommendations wrapper when there are multiple items
 * 1. Negates spacing on the sides
 */
.curated-recommendations__wrapper--multiple {
  @include media('>small') {
    margin: 0 (-$container-spacing / 2); /* 1 */
  }
}

/**
 * Wrapper for single curated recommendation when there are 2 or 3 items
 * 1. Make other elements slightly visible on the side of the current one
 * 2. Inherit `height` from `.curated-recommendations__wrapper`
 * 3. Spacing between items
 * 4. Position context for `.teaser__tertiary`
 */
.curated-recommendations__wrapper--multiple .curated-recommendations__inner {
  width: 80%; /* 1 */
  height: 100%; /* 2 */
  padding: 0 ($container-spacing / 2); /* 3 */
  position: relative; /* 4 */
  display: inline-block;
  vertical-align: top;
}

/**
 * Wrapper for curated recommendations when there are 2 items
 */
.curated-recommendations__wrapper--multiple .curated-recommendations__inner--half {
  @include media('>small') {
    width: (100% / 2);
  }
}

/**
 * Wrapper for curated recommendation when there are 3 items
 */
.curated-recommendations__wrapper--multiple .curated-recommendations__inner--third {
  @include media('>small') {
    width: (100% / 3);
  }
}

/**
 * Re-align the supplementary content of the teasers so they are aligned, no matted
 * the number of lines in each teaser
 */
.curated-recommendations__wrapper--multiple .teaser__supplementary {
  position: absolute;
  bottom: 10px;
}


/**
 * Remove dirty outline when using Flickity
 */
.flickity-enabled {
  outline: none;
}
