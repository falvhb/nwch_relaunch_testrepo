@import 'globals';

/**
 * Curated recommendations wrapper
 * 1. Overflows the container
 */
.curated-recommendations {
  @include expand; /* 1 */
  margin-bottom: 30px;
}

/**
 * Curated recommendations title
 */
.curated-recommendations__title {
  text-align: center;
  font-family: $supporting-font-stack;
  font-size: 1em;
}


/**
 * Curated recommendations wrapper when there is only one item
 * 1. add top margin and set to inline block to properly align with multi item variant
 */
.curated-recommendations__wrapper {
  margin-top: 20px; /* 1 */
  display: inline-block; /* 1 */
  width: 100%; /* 1 */
}

/**
 * Curated recommendations wrapper when there are multiple items
 * 1. Prevent items from wrapping (as there is Flickity)
 * 2. Fake same height items with a shared background color
 * 3. Use table layout to make it possible to have equal-height items
 * 4. Spacing between the items
 * 5. Negates spacing on the sides, resets the top margin and width (set in the one item variant)
 */
.curated-recommendations__wrapper--multiple {
  white-space: nowrap; /* 1 */
  background: $very-light-grey; /* 2 */

  @include media('>small') {
    background: transparent;
    display: table; /* 3 */
    table-layout: fixed; /* 3 */
    border-collapse: separate; /* 4 */
    border-spacing: 20px; /* 4 */
    margin: 0 -20px; /* 5 */
    width: auto; /* 5 */
  }
}

/**
 * Wrapper for single curated recommendation when there are 2 or 3 items
 * 1. Inlined elements on small screens
 * 2. Reset the `white-space` value from parent
 * 3. Table cells on large screens for equal height columns
 * 4. Position context for `.teaser__tertiary`
 */
.curated-recommendations__wrapper--multiple .curated-recommendations__inner {
  display: inline-block; /* 1 */
  white-space: normal; /* 2 */
  background: $very-light-grey;

  @include media('>small') {
    display: table-cell; /* 3 */
    position: relative; /* 4 */
  }
}

/**
 * Inner wrappers for the gallery
 */
.curated-recommendations__inner {
  width: 100%;
}

/**
 * Wrapper for a single curated recommendations when there are 2 items
 */
.curated-recommendations__inner--half {
  @include media('>small') {
    width: (100% / 2);
  }
}

/**
 * Wrapper for single curated recommendation when there are 3 items
 */
.curated-recommendations__inner--third {
  @include media('>small') {
    width: (100% / 3);
  }
}

/**
 * Re-align the tertiary content of the teasers so they are aligned, no matted
 * the number of lines in each teaser
 */
.curated-recommendations__wrapper--multiple .teaser__tertiary {
  position: absolute;
  bottom: 10px;
}

/**
 * Remove dirty outline when using Flickity
 */
.flickity-enabled {
  outline: none;
}
