import React from 'react';
import bem from 'react-bem-helper';

import Teaser from 'components/teaser';

const classes = new bem({
  name: 'curated-recommendations',
  prefix: ''
});

export default React.createClass({

  propTypes: {
    author: React.PropTypes.string,
    teasers: React.PropTypes.array.isRequired
  },

  getDefaultProps() {
    return {
      author: 'der autor'
    };
  },

  render() {
    var wrapperModifier = this.props.teasers.length > 1
        ? 'multiple'
        : null;

    var innerModifier = null;

    if (this.props.teasers.length === 2) {
      innerModifier = 'half';
    } else if (this.props.teasers.length === 3) {
      innerModifier = 'third';
    }

    return (
      <div {...classes()}>
        <h3 {...classes('title')}>{this.props.author} emfpielth</h3>
        <div {...classes('wrapper', wrapperModifier)}>
          {this.props.teasers.map((teaser, index) =>
            <div {...classes('inner', innerModifier)}>
              <Teaser {...teaser} modifier='light-boxed' key={index} />
            </div>
          )}
        </div>
      </div>
    );
  }

});
