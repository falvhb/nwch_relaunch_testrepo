@import 'globals';

/**
 * Image enrichment
 * 1. Top and bottom margin is meant for vertical-rhythm, while left and right
 *    margin is used to make the wrapper stick to the edges of the screen
 * 2. Adapt to wider margins on large screens
 */
.enrichment-image {
  font-family: $supporting-font-stack;
  margin: 0 (-$container-spacing); /* 1 */
  font-size: 0.9em;

  @include media('>small') {
    margin-left: -($container-spacing * 2); /* 2 */
    margin-right: -($container-spacing * 2); /* 2 */
    font-size: 1em;
  }

  /**
   * Clear inner float as `overflow: hidden` is not an option
   */
  &::after {
    content: '';
    display: table;
    clear: both;
  }
}

/**
 * Image störer when inside an `.aside` (floating)
 * 1. Aside takes care of vertical rhythm already
 */
.aside .enrichment-image {
  margin: 0; /* 1 */

  @include media('>small') {
    margin: 0; /* 1 */
  }
}

/**
 * Footer for the image, containing meta data
 * 1. Bottom border, ideally sync with the one from `.enrichment-text`
 * 2. Prevent text from sticking to image and border
 * 3. Prevent text from sticking to edge of container
 */
.enrichment-image__footer {
  float: left;
  border-bottom: 4px solid $yellow; /* 1 */
  padding: $container-spacing 0; /* 2 */
  margin: 0 $container-spacing; /* 3 */

  @include media('>small') {
    margin-left: ($container-spacing * 2); /* 3 */
    margin-right: ($container-spacing * 2); /* 3 */
  }
}

/**
 * Footer of full width image störer on large screens
 */
.aside .enrichment-image__footer {
  @include media('>small') {
    margin: 0;
  }
}

/**
 * Image title
 */
.enrichment-image__title {
  font-weight: 700;
}

/**
 * Image source
 */
.enrichment-image__source {
  color: $medium-grey;
  margin-left: 5px;
}
