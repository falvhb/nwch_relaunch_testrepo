@import 'globals';

.picture {
  @include loading-spinner;
  display: inline-block;
}


/**
 *  Hide spinner when loaded / failed
 */
.picture.is-loaded,
.picture.is-failed {
  &::after {
    display: none;
  }
}


/**
 *  Image sources / elements
 */
.picture__source {
  display: block;
  max-width: 100%;

  transition: opacity $image-transition;
  backface-visibility: hidden;

  .picture.is-loading &,
  .picture.is-failed & {
    opacity: 0;
  }
}


/**
 *  Picture within responsive container
 */
.responsive-image .picture {
  display: block;
  width: 100%;
  height: 100%;
}

/**
 *  Picture sources in responsive container
 */
.responsive-image .picture__source {
  width: 100%;
}

/**
 *  Filled images
 */
.responsive-image--fill .picture__source {
  position: absolute;
  top: 50%;
  left: 0;
  transform: translateY(-50%);
}

/**
 *  Letterbox images
 */
.responsive-image--letterbox .picture__source {
  position: absolute;
  top: 50%;
  left: 50%;
  width: auto;
  transform: translate(-50%, -50%);
  max-height: 100%;
}
