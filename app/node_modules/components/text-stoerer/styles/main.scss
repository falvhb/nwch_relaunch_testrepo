@import 'globals';

/**
 * Störer
 * 1. Extra vertical padding gives header more breathing room
 * 2. Negative horizontal margin to capture the edge of the screen
 * 3. Position context for pseudo-element border
 * 4. Temporary to “handle” responsive tables
 */
.text-stoerer {
  background-color: $very-light-grey;
  position: relative; /* 3 */
  overflow: auto; /* 4 */

  @include media('<=small') {
    padding: ($stoerer-basic-gap * 1.5) $stoerer-basic-gap; /* 1 */
    margin: $stoerer-large-gap (-$stoerer-basic-gap); /* 2 */
  }

  /**
   * Störer on large screens
   * 1. Extra margin, negative horizontal to “pop out”
   * 2. Extra padding for full-width störers
   */
  @include media('>small') {
    margin: $stoerer-large-gap (-$stoerer-large-gap); /* 1 */
    padding: $stoerer-large-gap; /* 2 */
  }

  /**
   * Not-full width border, hacked with a pseudo-element
   */
  &::before {
    content: '';
    position: absolute;
    top: 0;
    height: 4px;
    background-color: $yellow;

    @include media('≤small') {
      left: $stoerer-basic-gap;
      right: $stoerer-basic-gap;
    }

    /**
     * Adapt to new padding on large screens
     */
    @include media('>small') {
      left: $stoerer-large-gap;
      right: $stoerer-large-gap;
    }
  }

}

/**
 * Störer title
 */
.text-stoerer__title {
  @include type-headline-alternate;
  margin-bottom: 10px;
}

/**
 * Störer body
 * 1. Slightly smaller than core text
 */
.text-stoerer__body {
  @include type-copy-alternate;

  p,
  ul,
  ol,
  table {
    margin-bottom: 16px;
  }

  *:last-child {
    margin-bottom: 0;
  }
}

/**
 * Make sure all right and left störers are left floated on large screens as
 * we try to get rid of right floated störers
 * 1. Top margin is basically a magic number to align to text here
 */
.text-stoerer--floating {
  @include media('>small') {
    float: left;
    padding: $stoerer-floated-gap;
    margin: 6px ($stoerer-floated-gap * 1.5) ($stoerer-floated-gap * 1.5) 0; /* 1 */
    width: $stoerer-width;

    /**
     * Adapt to updated padding
     */
    &::before {
      left: $stoerer-floated-gap;
      right: $stoerer-floated-gap;
    }
  }

  /**
   * When there is room for negative offset, do it
   */
  @include media('>#{$stoerer-breakpoint--small}') {
    margin-left: -$stoerer-offset--small;
  }

  /**
   * When there is room for negative offset, do it
   */
  @include media('>#{$stoerer-breakpoint--large}') {
    margin-left: -$stoerer-offset--large;
  }
}
