@import 'globals';
@import 'utilities/variables';

/**
 * Responsive image
 */
.responsive-image {
  position: relative;
  overflow: hidden;
  background: $light-grey;
}

/**
 * Letterbox variation
 */
.responsive-image--letterbox {
  background-color: $letterbox-background;
}

/**
 * Rounded variation
 */
.responsive-image--rounded,
.responsive-image--rounded .picture,
.responsive-image--rounded .picture__source {
  border-radius: 50%;
}

/**
 * Different ratios
 */
@each $ratio in $image-ratios {
  $width: nth($ratio, 1);
  $height: nth($ratio, 2);

  /**
   * Padding-box hack to preserve ratio
   * See: http://andyshora.com/css-image-container-padding-hack.html
   */
  .responsive-image--#{$width}x#{$height} {
    padding-bottom: (($height / $width) * 100%);
  }
}

/**
 * Cover the padded box
 */
.responsive-image__box {
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
}

/**
 * Make an non-absolutely positioned element inside the box
 * Potentially unrequired, but could improve CSS performance
 */
.responsive-image__picture {
  height: 100%;
  width: 100%;
  position: relative;
}

/*
 * Fallback / static image
 */
.responsive-image__img {
  display: block;
  max-width: 100%;
}
