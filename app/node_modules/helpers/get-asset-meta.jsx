import _ from 'lodash';
import stripMarkup from 'helpers/strip-markup';
import getSource from 'helpers/get-source';

export default function(asset) {
  if (asset) {

    let strippedDescription = stripMarkup(asset.description || asset.asset.description);
    let title = asset.title || asset.asset.title;

    return {
      title: title ? title.trim() : null,
      description: strippedDescription ? strippedDescription.trim() :  null,
      source: _.has(asset, 'asset.source') ? getSource(asset.asset.source) : null
    };

  }
}
