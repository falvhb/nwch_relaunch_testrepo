import _ from 'lodash';
import { capitalize } from 'helpers';

// Teasers that are inverted
const invertedTeasers = [
  'plain-inverted',
  'mega'
];

// Map labeltype to theme
const themes = {
  live: 'live',
  video_autoplay: 'autoplay',
  meinung: 'meinung',
  publi_reportage: 'publi',
  leserbeitrag: 'ugc',
  vereinsmeldung: 'ugc',
  sportverein: 'ugc',
  gemeindebeitrag: 'ugc',
};

// Maps UCGs

export default function(article, variation) {

  let labelType = _.get(article, 'labeltype');
  let labelName = labelType ? capitalize(labelType.replace('_', '')) : '';
  let themeName = _.get(themes, labelType) || 'article';

  // make theme modifier an array for easy adding to BEM helper
  let modifiers = [];
  // add theme name
  modifiers.push('theme-' + themeName);
  // add invert if needed
  if (_.includes(invertedTeasers, variation)) modifiers.push('theme-inverted');

  return {
    name: themeName,
    label: labelName,
    modifiers: modifiers
  };

}
