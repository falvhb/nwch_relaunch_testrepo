import _ from 'lodash';

import getAssetPath from 'helpers/get-asset-path';
import getAvatar from 'helpers/user/get-avatar';

export default function(article) {

  let imageProps = getAvatar(article.author_detail);

  let imageConfig = {
    size: 'tiny',
    ratio: '1x1'
  };

  let fallback = {
    src: getAssetPath('images/avatar-fallback.png'),
    alt: '',
    unresponsive: true // serve standard image
  };

  let returnedProps = imageProps
   ? _.extend({}, imageProps, imageConfig)
   : _.extend({}, fallback, imageConfig);

  return returnedProps;
}
