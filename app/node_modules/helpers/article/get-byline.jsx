import _ from 'lodash';
import getTeaserVariationConfig from 'helpers/teaser/get-variation-config';

// Map suffix to theme type
const suffixes = {
  leserbeitrag: 'Leserbeitrag',
  vereinsmeldung: 'Vereinsmeldung',
  sportverein: 'Sportverein',
  gemeindebeitrag: 'Gemeindebeitrag'
};

export default function(article, variation) {

  let config = getTeaserVariationConfig(variation);
  let dateFormat = _.get(config, 'byline.dateFormat');
  let icon = _.get(config, 'byline.icon');
  let supplementaryText = dateFormat ? _.get(article, 'dc.created') : null;

  // stores the type of theme, e.g. 'Leserbeitrag'
  let labelId = _.get(article, 'labeltype');
  let suffix = _.get(suffixes, labelId) || '';

  return {
    text: supplementaryText,
    dateFormat: dateFormat,
    icon: icon,
    suffix: suffix
  };

}
