import _ from 'lodash';
import getTeaserConfig from 'helpers/get-teaser-config';

// Map suffix to theme type
const suffixes = {
  leserbeitrag: 'Leserbeitrag',
  vereinsmeldung: 'Vereinsmeldung',
  sportverein: 'Sportverein',
  gemeindebeitrag: 'Gemeindebeitrag'
};

export default function(article, variation) {
  let teaserConfig = getTeaserConfig(variation);

  let supplementaryText = teaserConfig.dateFormat
    ? _.get(article, 'dc.created')
    : false;

  // stores the type of theme, e.g. 'Leserbeitrag'
  let labelId = _.get(article, 'labeltype');
  let suffix = _.get(suffixes, labelId) || '';

  return {
    text: supplementaryText,
    dateFormat: teaserConfig.dateFormat,
    suffix: suffix
  };
}
