import _ from 'lodash';

import variationConfig from './get-variation-config';

export default function(props, state) {

  let variation = _.get(props.config, state.view);
  let teaser = props.teaser;
  let config = variationConfig(variation);

  return {
    variation: variation,
    image: _.get(config, 'image')
      ? _.merge({}, _.get(teaser, 'image'), config.image)
      : false,
    byline: _.get(config, 'byline')
      ? _.merge({}, _.get(teaser, 'byline'), config.byline)
      : false,
    summary: _.get(config, 'summary')
      ? _.merge({}, _.get(teaser, 'summary'), config.summary)
      : false,
    catchword: _.get(config, 'catchword')
      ? _.merge({}, _.get(teaser, 'catchword'), config.catchword)
      : false,
  };
}
