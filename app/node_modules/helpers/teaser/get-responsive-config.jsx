import _ from 'lodash';

import getTeaserVariationView from './get-variation-view';
import getTeaserVariationConfig from './get-variation-config';

export default function(props, state) {

  let variation = getTeaserVariationView(props.variation, state.view) || props.variation;
  let config = getTeaserVariationConfig(variation);

  return {
    variation: variation,
    image: config.image
      ? _.merge({}, props.image, config.image)
      : false,
    byline: config.byline
      ? _.merge({}, props.byline, config.byline)
      : false,
    summary: config.summary
      ? props.summary
      : false
  };
}
