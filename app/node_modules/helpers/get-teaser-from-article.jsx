import _ from 'lodash';

import getArticleTitle from 'helpers/get-article-title';
import getArticleUrl from 'helpers/get-article-url';
import getArticleImage from 'helpers/get-article-image';
import getArticleMarker from 'helpers/get-article-marker';
import getArticleSchema from 'helpers/get-article-schema';
import getArticleTheme from 'helpers/get-article-theme';
import getArticleByline from 'helpers/get-article-byline';

export default function(data) {

  if (!data) {
    return false;
  }

  const variation = data.variation;
  const article = data.article;

  return {
    variation: variation,
    title: getArticleTitle(article),
    link: getArticleUrl(article),
    marker: getArticleMarker(article),
    schema: getArticleSchema(article),
    image: getArticleImage(article, variation),
    theme: getArticleTheme(article, variation),
    byline: getArticleByline(article, variation),
    catchword: _.get(article, 'context_label'),
    summary: _.get(article, 'lead')
  };
}
