import _ from 'lodash';

export default function(collection, cb) {
  return _.forEach(collection, function(e, key, data) {
    cb(e, key, data);

    // recursion
    if (e !== null && typeof e === 'object') {
      _.forEach(e, function(e2, key2, data2) {
        cb(e2, key2, data2);
      });
    }
  });
}
