import _ from 'lodash';
import getTeaserFromArticle from 'helpers/get-teaser-from-article';

export default function(data) {
  if (data) {

    let mappedTeasers = function(articles) {
      return articles.map((article) => {
        return getTeaserFromArticle({
          article: article,
          variation: 'basic',
          fallback: 'light'
        });
      });
    };

    return _.assign({}, data, { articles: mappedTeasers(data.articles) });
  }
}
