import _ from 'lodash';

let isOfType = function(_asset, contentType) {
  return _asset.asset && _asset.asset.content_type === contentType;
};

export default function(assets) {
  if (assets) {

    // check if there is an image asset
    let imageAsset = _.find(assets, function(_asset) {
      return isOfType(_asset, 'asset_image');
    });

    if (imageAsset) {
      return imageAsset;
    }

    // check if there is a video asset
    let videoAsset = _.find(assets, function(_asset) {
      return isOfType(_asset, 'asset_video');
    });

    if (videoAsset) {
      return videoAsset;
    }

    // check if there is a gallery asset
    let galleryAsset = _.find(assets, function(_asset) {
      return isOfType(_asset, 'asset_image_gallery');
    });

    if (galleryAsset) {
      return galleryAsset;
    }

    return null;

  }
}
