import React from 'react';

import Container from 'components/container';
import ContextualNavigation from 'styleguide/contextual-navigation';

export default React.createClass({

  propTypes: {
    children: React.PropTypes.element.isRequired,
    active: React.PropTypes.string.isRequired,
    components: React.PropTypes.array.isRequired
  },

  componentDidMount() {
    React.findDOMNode(this.refs.sidebarToggle)
      .addEventListener('click', function() {
        document.body.classList.toggle('no-sidebar');
      });
  },

  render() {
    return (
      <main role='main' className='styleguide-main'>
        <Container>
          {this.props.children}
        </Container>
        {this.props.active ? <ContextualNavigation components={this.props.components} active={this.props.active} /> : ''}
        <button type='button' role='button' id='sidebar-toggle' ref='sidebarToggle' className='styleguide-main__toggle'>â†”</button>
      </main>
    );
  }

});
