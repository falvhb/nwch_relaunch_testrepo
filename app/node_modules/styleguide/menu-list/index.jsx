'use strict';

var React = require('react');
var slugToTitle = require('slug-to-title');
var bem = require('react-bem-helper');

var classes = new bem({
  name: 'styleguide-menu-list',
  prefix: ''
});

var MenuList = React.createClass({

  menuItems() {

    var props = this.props;
    var linkPrefix = props.prefix || '/';

    return props.items.map(function(item, index) {

      var linkClasses = {
        'is-active': props.active === item.slug
      };

      return (
        <li key={index} {...classes('item')}>
          <a href={linkPrefix + item.slug} {...classes('link', '', linkClasses)}>
            {slugToTitle(item.slug)}
          </a>
        </li>
      );

    });
  },

  render() {
    return (
      <ul {...classes('')}>
        {this.menuItems()}
      </ul>
    );
  }

});

module.exports = MenuList;
