@import 'globals';

/**
 * Contextual navigation wrapper
 * 1. Clear inner float
 * 2. Always on bottom even when content is not tall enough
 * 3. @TODO: pull this value from `sidebar/styles/utilities/variables.scss`
 */
.styleguide-contextual-navigation {
  overflow: hidden; /* 1 */
  background-color: $very-light-grey;
  text-align: center;
  margin-top: 50px;

  @include media('>small') {
    position: absolute; /* 2 */
    bottom: 0; /* 2 */
    right: 0;
    left: 230px; /* 3 */
  }
}

/**
 * Contextual navigation links
 * 1. Reset default link styles
 * 2. One next to each other on large screens
 */
.styleguide-contextual-navigation__link {
  display: block;
  padding: 20px;
  text-decoration: none; /* 1 */
  color: inherit; /* 1 */
  border-top: 3px solid $light-grey;

  @include media('>small') {
    padding: 20px 40px;
    float: left; /* 2 */
    width: 50%; /* 2 */
  }

  &:active,
  &:focus,
  &:hover {
    border-top-color: $blue;
  }
}

/**
 * Previous link
 * 1. Separation between the two links
 */
.styleguide-contextual-navigation__link--prev {
  border-right: 1px solid $light-grey; /* 1 */

  @include media('>small') {
    text-align: left;
  }

  /**
   * Arrow
   */
  &::before {
    margin-right: 20px;
    content: '\2190';
    transform: scale(0.75);
    display: inline-block;
  }
}

/**
 * Next link
 * 1. Right aligned
 */
.styleguide-contextual-navigation__link--next {
  @include media('>small') {
    text-align: right; /* 1 */
  }

  /**
   * Arrow
   */
  &::after {
    margin-left: 20px;
    content: '\2192';
    transform: scale(0.75);
    display: inline-block;
  }
}

/**
 * Disabled link, on first and last pages
 * 1. Hide text while keeping it accessible
 * 2. Have a disabled cursor
 */
.styleguide-contextual-navigation__link--disabled {
  text-indent: 101%; /* 1 */
  white-space: nowrap; /* 1 */
  overflow: hidden; /* 1 */
  padding: 0; /* 1 */
  cursor: not-allowed; /* 2 */
  height: 0;
  border-top: 0;

  @include media('>small') {
    height: auto;
    border-top: 3px solid $light-grey;
  }

  &:active,
  &:focus,
  &:hover {
    border-color: $light-grey;
  }

  /**
   * Hide the arrow
   */
  &::before,
  &::after {
    content: none;
  }

  /**
   * On the first page, remove the right border to avoid a visual glitch
   */
  &:first-child {
    border-right: 0;
  }

  /**
   * On the first page, have the second link make the left border
   */
  &:first-child + .styleguide-contextual-navigation__link {
    border-left: 1px solid $light-grey;
  }
}

/**
 * Hide the contextual navigation when there is no sidebar
 */
.is-sidebar-hidden .styleguide-contextual-navigation {
  display: none;
}
