'use strict';

var React = require('react');
var Menu = require('styleguide/menu');
var slugToTitle = require('slug-to-title');

var Sidebar = React.createClass({

  propTypes: {
    components: React.PropTypes.array,
    active: React.PropTypes.string
  },

  mapComponentMenuItems(components) {
    var props = this.props;
    return components.map(function(item) {
      item.title = slugToTitle(item.slug);
      item.link = '/styleguide/component/' + item.slug;
      item.active = item.slug === props.active;
      return item;
    });
  },

  render() {

    return (
      <header className='styleguide-sidebar'>
        <a href='/styleguide' className={!this.props.active ? 'is-active' : ''}>Home</a>
        <nav role="navigation">
          <Menu items={this.mapComponentMenuItems(this.props.components)} />
        </nav>
      </header>
    );
  }

});

module.exports = Sidebar;
