'use strict';

const React = require('react');

const SidebarSection = require('styleguide/sidebar-section');
const Logo = require('styleguide/logo');

const Sidebar = React.createClass({

  propTypes: {
    components: React.PropTypes.object.isRequired,
    active: React.PropTypes.object
  },

  render() {

    var active = this.props.active || false;
    var components = this.props.components;

    var navigation = (
      <nav role="navigation">
        {Object.keys(components).map(function(section, index) {
          return (
            <SidebarSection
              title={section}
              components={components[section]}
              active={active}
              key={index}
            />
          );
        })}
      </nav>
    );

    return (
      <header className='styleguide-sidebar'>
        <Logo />
        {navigation}
      </header>
    );
  }

});

module.exports = Sidebar;
