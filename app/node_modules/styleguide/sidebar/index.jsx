'use strict';

const React = require('react');

const Menu = require('styleguide/menu');
const Logo = require('styleguide/logo');

const Sidebar = React.createClass({

  // propTypes: {
  //   components: React.PropTypes.array.isRequired,
  //   active: React.PropTypes.oneOfType([
  //     React.PropTypes.boolean,
  //     React.PropTypes.object
  //   ])
  // },

  mapComponentMenuItems(components) {
    var props = this.props;
    return components.map(function(item) {
      return {
        title: item.title,
        link: '/styleguide/' + item.section + '/' + item.slug,
        slug: item.slug,
        active: item.slug === props.active.slug
      };
    });
  },

  render() {

    return (
      <header className='styleguide-sidebar'>
        <Logo />
        <nav role="navigation">
          <Menu items={this.mapComponentMenuItems(this.props.components)} />
        </nav>
      </header>
    );
  }

});

module.exports = Sidebar;
