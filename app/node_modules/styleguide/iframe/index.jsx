'use strict';

const React = require('react');
const bem = require('react-bem-helper');
const path = require('path');

const classes = new bem({
  name: 'iframe',
  prefix: 'styleguide-'
});

const Menu = React.createClass({

  propTypes: {
    component: React.PropTypes.object.isRequired,
    variation: React.PropTypes.object
  },

  constructUrl(component, variation) {
    return path.join('/styleguide', component.category, component.slug, (variation ? variation.slug : ''), 'full');
  },

  render() {
    var props = this.props;

    var modifier = props.variation && props.variation.width ? props.variation.width : props.component.width || 'default';

    return (
      <iframe {...classes('', modifier)} width='100%' src={this.constructUrl(props.component, props.variation)}>
        {'iFrame could not be displayed, sorry :('}
      </iframe>
    );
  }

});

module.exports = Menu;
