'use strict';

const React = require('react');
const bem = require('react-bem-helper');

const classes = new bem({
  name: 'iframe',
  prefix: 'styleguide-'
});

const Menu = React.createClass({

  propTypes: {
    category: React.PropTypes.string.isRequired,
    component: React.PropTypes.object.isRequired,
    variation: React.PropTypes.object
  },

  constructUrl(component, variation) {
    var url = '/styleguide/' + this.props.category + '/' + component.slug + '/';
    if (variation) {
      url =  url + variation.slug + '/full';
    } else {
      url = url + 'full';
    }
    return url;
  },

  render() {
    var props = this.props;
    var modifier = props.variation ? props.variation.width : false;

    return (
      <iframe {...classes('', modifier)} width='100%' src={this.constructUrl(props.component, props.variation)}>
        {'iFrame could not be displayed, sorry :('}
      </iframe>
    );
  }

});

module.exports = Menu;
