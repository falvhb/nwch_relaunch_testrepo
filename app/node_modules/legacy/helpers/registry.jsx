
let CLASS_REGISTRY = {};

export function registerContentType(cls, name) {
  CLASS_REGISTRY[name] = cls;
}

export function getRelationFor(obj, rel) {
  let cls = CLASS_REGISTRY[obj.content_type + '_relation'];
  if (cls) {
    return new cls(rel);
  }
  return null;
}

export function getImplementation(obj) {
  let cls = CLASS_REGISTRY[obj.content_type];
  if (cls) {
    return new cls(obj);
  }
  return null;
}

export function clearAll() {
  CLASS_REGISTRY = {};
}
