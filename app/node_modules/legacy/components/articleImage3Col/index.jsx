import React from 'react';

/**
 * article_macros.pt#articleImage3Col - for grepping ...
 */

/*
<metal:macro define-macro="articleImage3Col">
  <div tal:attributes="class python: 'teaserImageHolder ' + view.mainAssetType()"
       tal:condition="view/providesTeaserCompatibleMainAsset">
    <a href=""
       tal:attributes="href context/@@absolute_url">
      <img src="" alt="" title=""
           width="220"
           height="130"
           tal:attributes="src context/@@teaser_url/small" />
      <tal:block tal:condition="view/mainAssetLabelImg">
        <span tal:attributes="class view/mainAssetLabelImg"></span>
        <span class="assettypeicon"></span>
      </tal:block>
      <span tal:condition="not:view/mainAssetLabelImg"
            class="assettypeicon"></span>
      <span tal:condition="view/mainAssetLabel" class="assettype">
        <span tal:content="structure view/mainAssetLabel"/>
      </span>
    </a>
  </div>
</metal:macro>
*/

export default class ArticleImage3Col extends React.Component {

  render() {

    const { view } = this.props;

    let img_url = view.getTeaserUrl(220, 130, true);

    let img=(
        <img src={ img_url } alt="" title=""
           width="220"
           height="130"
        />
    );

    let mainAssetLabelImg = null;
    if (view.mainAssetLabelImg) {
      mainAssetLabelImg = (<span className={view.mainAssetLabelImg} />);
    }

    let assettype = null;
    if (view.mainAssetLabel) {
      assettype = (
        <span className="assettype">
          <span>{view.mainAssetLabel}</span>
        </span>
      );
    }

    if (view.providesTeaserCompatibleMainAsset) {
      return (
        <div className={`teaserImageHolder ${view.mainAssetType}`}>
          <a href={view.getAbsolutUrl}>
            {img}
            {mainAssetLabelImg}
            <span className="assettypeicon"/>
            {assettype}
          </a>
        </div>
      );
    }

    return null;
  }

}
