import React from 'react';
import nbsp from 'legacy/helpers/nbsp';

/*
<metal:macro define-macro="articleLabel">
  <tal:block tal:condition="not:view/providesTeaserCompatibleMainAsset">
    <div class="articleLabelContainer"
         tal:condition="view/mainAssetLabel">
      <span class="articleLabel"
            tal:content="structure view/mainAssetLabel">
      </span>
      <span tal:condition="view/isUgcArticle"
            class="articleLabelIcon">&nbsp;</span>
    </div>
    <div class="clear">&nbsp;</div>
  </tal:block>
</metal:macro>
*/

/**
 * article_macros.pt#articleLabel
 */
export default class ArticleLabel extends React.Component {

  render() {
    const { view } = this.props;

    if (!view.providesTeaserCompatibleMainAsset) {
      let articleLabel = null;
      if (view.mainAssetLabel) {
        articleLabel = (<span className="articleLabel">{view.mainAssetLabel}</span>);
      }

      let articleLabelIcon = null;
      if (view.isUgcArticle) {
        articleLabelIcon = (<span className="articleLabelIcon" {...nbsp} />);
      }

      let articleLabelContainer = null;
      if (view.mainAssetLabel) {
        articleLabelContainer = (
          <div className="articleLabelContainer">
            {articleLabel}
            {articleLabelIcon}
          </div>
        );
      }

      return (
        <div>
          {articleLabelContainer}
          <div className="clear" {...nbsp} />
        </div>
      );
    }
    return null;
  }
}
