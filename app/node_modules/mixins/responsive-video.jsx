import jQuery from 'jQuery';

export default {
  getVideoHeight(aspectRatio, width, toolbarHeight) {
    return (width + aspectRatio * toolbarHeight)/aspectRatio;
  },
  setupFixedRatioOnResizingVideo() {
    var self = this;

    jQuery(window).on('resize.player-'+this.props.kalturaID, function() {
      jQuery("#"+self.props.kalturaID).each(function() {
        var e = jQuery(this);

        // set height using custom formula
        e.height( self.getVideoHeight(16/9, e.width(), 35.8) );
      });
    }).resize();
  },
  removeFixedRatioOnResizingVideo() {
    jQuery(window).off('resize.player-'+this.props.kalturaID);
  },
  componentWillUnmount() {
    this.removeFixedRatioOnResizingVideo();
  }
};
